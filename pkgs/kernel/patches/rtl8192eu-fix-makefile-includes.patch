# Fix RTL8192EU WiFi driver Makefile include paths
#
# Converts from EXTRA_CFLAGS += -I$(src)/include to proper ccflags-y
# with $(srctree)/$(src) prefixes. Adds include paths for core, crypto,
# platform, and hal/phydm subdirectories needed for compilation.
#
# Fixes include path resolution in out-of-tree kernel module build.

--- a/drivers/net/wireless/rtl8192eu/Makefile
+++ b/drivers/net/wireless/rtl8192eu/Makefile
@@ -11,7 +11,13 @@ GCC_VER_49 := $(shell echo `$(CC) -dumpversion | cut -f1-2 -d.` \>= 4.9 | bc )
 ifeq ($(GCC_VER_49),1)
 endif
 
-EXTRA_CFLAGS += -I$(src)/include
+ccflags-y += -I$(srctree)/$(src)/include
+ccflags-y += -I$(srctree)/$(src)/core
+ccflags-y += -I$(srctree)/$(src)/core/crypto
+ccflags-y += -I$(srctree)/$(src)/platform
+ccflags-y += -I$(srctree)/$(src)/hal/phydm
+ccflags-y += -I$(srctree)/$(src)/hal/phydm/halrf
+ccflags-y += -I$(srctree)/$(src)/hal/phydm/txbf
 
 EXTRA_LDFLAGS += --strip-debug
 
